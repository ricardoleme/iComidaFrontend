(this.webpackJsonpicomida=this.webpackJsonpicomida||[]).push([[0],{78:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(23),r=a.n(s),i=(a(66),a(59)),o=a(8),j=a(44),d=a(45),l=a(27),b=a(31),u=a(51),h=a(16),O=a(1),x=function(){return Object(O.jsxs)(b.a,{bg:"primary",variant:"dark",children:[Object(O.jsxs)(b.a.Brand,{children:[Object(O.jsx)(h.c,{})," iComida"]}),Object(O.jsxs)(u.a,{className:"mr-auto",children:[Object(O.jsxs)(u.a.Link,{href:"#/",children:[Object(O.jsx)(h.b,{})," In\xedcio"]}),Object(O.jsxs)(u.a.Link,{href:"#/categorias",children:[Object(O.jsx)(h.f,{})," Categorias"]})]})]})},m=function(){return Object(O.jsx)(b.a,{bg:"dark",fixed:"bottom",children:Object(O.jsxs)(b.a.Brand,{className:"text-light",children:[Object(O.jsx)(h.c,{})," iComida \xa9 - Todos os direitos reservados"]})})},p=function(){return Object(O.jsxs)(j.a,{fluid:!0,className:"p-0",children:[Object(O.jsx)(x,{}),Object(O.jsx)(d.a,{children:Object(O.jsxs)(l.a,{xs:12,lg:6,children:[Object(O.jsx)("h1",{children:"Seja Bem vindo!"}),Object(O.jsx)("p",{children:"Esta \xe9 a \xe1rea administrativa do iComida. "}),Object(O.jsx)("p",{children:"Efetue os cadastros atrav\xe9s do menu acima"})]})}),Object(O.jsx)(m,{})]})},f=a(28),g=a.n(f),v=a(35),C=a(37),k=a(50),y=a(26),S=a(56),w=a(58),E=a(32),N=a(25),A=a(52),T=a(33),B="https://backicomida.herokuapp.com/api",I=function(){var e={nome:"",status:!0},t=Object(c.useState)(e),a=Object(y.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)([]),i=Object(y.a)(r,2),o=i[0],b=i[1],u=Object(c.useState)(!1),p=Object(y.a)(u,2),f=p[0],I=p[1],L=Object(c.useState)({}),F=Object(y.a)(L,2),D=F[0],_=F[1],H=Object(c.useState)(""),J=Object(y.a)(H,2),P=J[0],z=J[1],G=Object(c.useState)(!1),R=Object(y.a)(G,2),q=R[0],M=R[1],U=Object(c.useState)(!1),K=Object(y.a)(U,2),Q=K[0],V=K[1],W=n.nome,X=n.status;function Y(){return Z.apply(this,arguments)}function Z(){return(Z=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),t="".concat(B,"/categorias"),e.next=4,fetch(t).then((function(e){return e.json()})).then((function(e){b(e)})).catch((function(e){console.error("Erro ao obter as categorias: "+e.message)}));case 4:I(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){Y(),document.title="Cadastro de Categorias"}),[]);var $=function(){var e={};return W&&""!==W?W.length>30?e.nome="O nome informado \xe9 muito longo":W.length<3&&(e.nome="O nome informado \xe9 muito curto"):e.nome="O nome n\xe3o pode ser vazio!",e};function ee(){return(ee=Object(k.a)(g.a.mark((function t(a){var c,r,i;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),c=$(),!(Object.keys(c).length>0)){t.next=6;break}_(c),t.next=13;break;case 6:return M(!0),r=n.hasOwnProperty("_id")?"PUT":"POST",n.status=!0===n.status||"ativo"===n.status?"ativo":"inativo",i="".concat(B,"/categorias"),t.next=12,fetch(i,{method:r,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){t._id||t.message?z("Registro salvo com sucesso"):z(""),s(e),Y()})).catch((function(e){console.error("Erro ao salvar a categoria: ".concat(e.message))}));case 12:M(!1);case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function te(){return(te=Object(k.a)(g.a.mark((function e(){var t;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(B,"/categorias/").concat(n._id),e.next=3,fetch(t,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.message?z(e.message):z(""),Y()})).catch((function(e){console.error("Erro ao excluir a categoria: ".concat(e.message))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(O.jsxs)(j.a,{fluid:!0,className:"p-0",children:[Object(O.jsx)(x,{}),Object(O.jsxs)(d.a,{children:[Object(O.jsxs)(l.a,{xs:12,lg:6,children:[Object(O.jsxs)("h4",{children:[Object(O.jsx)(h.f,{})," Cadastro das Categorias"]}),Object(O.jsxs)(N.a,{method:"post",children:[Object(O.jsxs)(N.a.Group,{controlId:"nome",children:[Object(O.jsx)(N.a.Label,{children:"Nome da Categoria"}),Object(O.jsx)(N.a.Control,{name:"nome",placeholder:"Ex: Churrascarias",value:W,onChange:function(e){s(Object(C.a)(Object(C.a)({},n),{},Object(v.a)({},e.target.name,e.target.value))),_({})},isInvalid:!!D.nome}),Object(O.jsx)(N.a.Control.Feedback,{type:"invalid",children:D.nome})]}),Object(O.jsx)(N.a.Group,{controlId:"status",children:Object(O.jsx)(N.a.Check,{type:"checkbox",label:"Ativo",name:"status",onChange:function(e){return s(Object(C.a)(Object(C.a)({},n),{},Object(v.a)({},e.target.name,e.target.checked)))},checked:X})}),Object(O.jsx)(E.a,{variant:"primary",type:"submit",onClick:function(e){return function(e){return ee.apply(this,arguments)}(e)},title:"Salvar o registro",children:q?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(S.a,{animation:"border",size:"sm"})," Aguarde..."]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(h.g,{})," Salvar"]})})]})]}),Object(O.jsxs)(l.a,{xs:12,lg:6,children:[Object(O.jsxs)("h4",{children:[Object(O.jsx)(h.d,{})," Listagem das Categorias"]}),f&&Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(S.a,{animation:"border",variant:"primary"}),Object(O.jsx)("p",{children:"Aguarde, enquanto as categorias s\xe3o carregadas..."})]}),Object(O.jsxs)(w.a,{striped:!0,bordered:!0,children:[Object(O.jsx)("thead",{children:Object(O.jsxs)("tr",{className:"bg-info text-dark",children:[Object(O.jsx)("th",{children:"Nome"}),Object(O.jsx)("th",{children:"Status"}),Object(O.jsx)("th",{children:"Inclus\xe3o"}),Object(O.jsx)("th",{children:"Op\xe7\xf5es"})]})}),Object(O.jsxs)("tbody",{children:[o.map((function(e){return Object(O.jsxs)("tr",{children:[Object(O.jsx)("td",{children:e.nome}),Object(O.jsx)("td",{children:e.status}),Object(O.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),Object(O.jsxs)("td",{children:[Object(O.jsx)(E.a,{variant:"outline-primary",title:"Editar o registro",onClick:function(){return s(e)},children:Object(O.jsx)(h.e,{})}),"\xa0",Object(O.jsx)(E.a,{variant:"outline-danger",title:"Apagar o registro",onClick:function(){V(!0),s(e)},children:Object(O.jsx)(h.a,{})})]})]},e._id)})),Object(O.jsxs)("tr",{className:"bg-success text-white",children:[Object(O.jsx)("td",{colSpan:"3",children:"Total de Registros:"}),Object(O.jsx)("td",{children:o.length})]})]})]})]})]}),Object(O.jsxs)(A.a,{onClose:function(){return z("")},show:P.length>0,animation:!1,delay:4e3,autohide:!0,className:"bg-success",style:{position:"absolute",top:10,right:10},children:[Object(O.jsx)(A.a.Header,{closeButton:!1,children:"Aviso"}),Object(O.jsx)(A.a.Body,{children:P})]}),Object(O.jsxs)(T.a,{animation:!1,show:Q,onHide:function(){return V(!1)},children:[Object(O.jsx)(T.a.Header,{children:Object(O.jsx)(T.a.Title,{children:"Confirma\xe7\xe3o da Exclus\xe3o"})}),Object(O.jsx)(T.a.Body,{children:"Confirma a exclus\xe3o da categoria selecionada?"}),Object(O.jsxs)(T.a.Footer,{children:[Object(O.jsx)(E.a,{variant:"danger",onClick:function(){return V(!Q)},children:"\u274cCancelar"}),Object(O.jsx)(E.a,{variant:"success",onClick:function(){!function(){te.apply(this,arguments)}(),V(!Q)},children:"\u2705Confirmar"})]})]}),Object(O.jsx)(m,{})]})};function L(){return Object(O.jsx)(i.a,{children:Object(O.jsxs)(o.c,{children:[Object(O.jsx)(o.a,{exact:!0,path:"/",component:p}),Object(O.jsx)(o.a,{exact:!0,path:"/categorias",component:I})]})})}var F=function(){return Object(O.jsx)(L,{})};r.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(F,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.ba0f33c0.chunk.js.map